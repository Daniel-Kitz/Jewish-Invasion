# https://youtu.be/1e6GnjYtuNA?list=PLt_7vUaEvaGRQLDh1zRkwiYjISoRniu_n
# https://eu4.paradoxwikis.com/Conditions
# https://eu4.paradoxwikis.com/Commands
# https://eu4.paradoxwikis.com/List_of_common_mission_triggers

xxa_missions_1 = {
	slot = 1 #upper left column
	generic = no #if a mission without generic = yes wants this slot then it overrides this.
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = XXA
	}
	has_country_shield = yes

	xxa_1_1 = {
		icon = mission_alliances
		required_missions = {  } #None
		position = 1

		trigger = {
			alliance_with = XXB
		}
		effect = {
			add_country_modifier = {
				name = "xxa_1_1_mod"
				duration = -1
			}
			add_adm_power = 100

			223 = {
				add_permanent_claim = ROOT
			}
			4568 = {
				add_permanent_claim = ROOT
			}
		}
	}
	xxa_1_2 = {
		icon = mission_develop_alhambra
		required_missions = { xxa_1_1 }
		position = 2

		provinces_to_highlight = {
			OR = {
				province_id = 223  # Alhambra
				province_id = 4568  # Ait Benhaddou
			}
			NOT = {
				AND = {
					owned_by = ROOT
					OR = {
						has_great_project = {
							type = alhambra
							tier = 3
						}
						has_great_project = {
							type = ait_benhaddou
							tier = 3
						}
					}
				}
			}
		}

		trigger = {
			AND = {
				owns_core_province = 223
				owns_core_province = 4568
			}
			223 = {
				has_great_project = {
					type = alhambra
					tier = 3
				}
			}
			4568 = {
				has_great_project = {
					type = ait_benhaddou
					tier = 3
				}
			}

		}
		effect = {
			add_prestige = 50
			add_adm_power = 100
			add_dip_power = 100
			add_mil_power = 100
			add_country_modifier = {
				name = "xxa_1_2_mod"
				duration = -1
			}

		}
	}
}

xxa_missions_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = XXA
	}
	has_country_shield = yes

	xxa_2_1 = {
		icon = mission_unite_home_region
		required_missions = {  } #None
		position = 1

		provinces_to_highlight = {
			OR = {
				area = ulster_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 1 # how many provinces should be owned in the areas below
				OR = {
					area = ulster_area # this can also be region or colonial region
				}
			}
		}

		effect = {
			add_treasury = 50
			add_adm_power = 50
			ulster_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			leinster_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			connacht_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			munster_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	xxa_2_2 = {
		icon = defeat_the_english
		required_missions = {xxa_2_1 xxa_3_1}
		position = 2

		provinces_to_highlight = {
			OR = {
				region = british_isles_region
			}
			NOT = {
				AND = {
					owned_by = ROOT
					religion = jewish
				}
			}
		}

		trigger = {
			# https://forum.paradoxplaza.com/forum/threads/euiv-modding-quick-questions-thread.708855/post-27566221
			british_isles_region = {
				type = all
				owned_by = ROOT
				religion = jewish
			}
		}
		effect = {
			add_prestige = 50
			add_adm_power = 100
			add_dip_power = 100
			add_mil_power = 100

			add_country_modifier = {
				name = "xxa_2_2_mod"
				duration = -1
			}
		}
	}
}

xxa_missions_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = XXA
	}
	has_country_shield = yes

	xxa_3_1 = {
		icon = mission_conquer_50_development
		required_missions = {  } #None
		position = 1

		provinces_to_highlight = {
			OR = {
				area = wessex_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			wessex_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			add_treasury = 50
			add_adm_power = 50
			wessex_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			east_anglia_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			east_midlands_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			highlands_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			home_counties_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			lowlands_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			scottish_marches_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			kingdom_of_the_isles_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			wales_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			west_midlands_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			yorkshire_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	xxa_3_2 = {
		icon = mission_rb_take_gibraltar
		required_missions = {  } #None
		position = 2

		provinces_to_highlight = {
			OR = {
				region = france_region
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			calc_true_if = {
				amount = 5
				all_province = {
					AND = {
						region = france_region
						owned_by = ROOT
						religion = jewish
					}
				}
			}

		}

		effect = {
			france_region = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	xxa_3_3 = {
		icon = mission_monarch_in_throne_room
		required_missions = { xxa_3_2 }
		position = 3

		provinces_to_highlight = {
			OR = {
				region = france_region
			}
			NOT = {
				AND = {
					country_or_non_sovereign_subject_holds = ROOT
					religion = jewish
				}
			}
		}

		trigger = {
			france_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
				religion = jewish
			}
			NOT = {exists = FRA }
		}

		effect = {
			add_prestige = 50
			add_adm_power = 100
			add_dip_power = 100
			add_mil_power = 100
			add_country_modifier = {
				name = "xxa_3_3_mod"
				duration = -1
			}

		}
	}

	xxa_3_4 = {
		icon = mission_italian_condottiere
		required_missions = {  } #None
		position = 4

		provinces_to_highlight = {
			OR = {
				region = iberia_region
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			calc_true_if = {
				amount = 5
				all_province = {
					AND = {
						region = iberia_region
						owned_by = ROOT
						religion = jewish
					}
				}
			}

		}

		effect = {
			iberia_region = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	xxa_3_5 = {
		icon = the_spanish_succession
		required_missions = { xxa_3_4 }
		position = 5

		provinces_to_highlight = {
			OR = {
				region = iberia_region
			}
			NOT = {
				AND = {
					country_or_non_sovereign_subject_holds = ROOT
					religion = jewish
				}
			}
		}

		trigger = {
			iberia_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
				religion = jewish
			}
		}

		effect = {
			add_prestige = 25
			add_adm_power = 50
			add_dip_power = 50
			add_mil_power = 50
			add_country_modifier = {
				name = "xxa_3_5_mod"
				duration = -1
			}

		}
	}
}
